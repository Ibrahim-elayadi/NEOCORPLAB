// Translation dictionary
const translations = {
    en: {
        nav_models: "Models",
        nav_718: "718 Cayman & Boxster",
        nav_taycan: "Taycan",
        nav_panamera: "Panamera",
        nav_macan: "Macan",
        nav_cayenne: "Cayenne",
        nav_about: "About",
        nav_heritage: "Heritage",
        nav_technology: "Technology",
        nav_sustainability: "Sustainability",
        nav_careers: "Careers",
        nav_services: "Services",
        nav_tequipment: "Porsche Tequipment",
        nav_exclusive: "Exclusive Manufaktur",
        nav_financing: "Financing",
        nav_warranty: "Warranty",
        nav_contact: "Contact",
        hero_title: "Performance Redefined",
        hero_subtitle: "Experience the pinnacle of automotive engineering and luxury",
        hero_button: "EXPLORE MODELS",
        models_title: "Our Iconic Models",
        model_911: "Iconic sports car with rear engine and two doors",
        model_718: "Agile mid-engine sports car",
        model_taycan: "Electric sports sedan with cutting-edge technology",
        model_panamera: "Luxury sports sedan with grand touring capabilities",
        model_macan: "Compact performance SUV",
        model_cayenne: "Versatile performance SUV",
        model_learnmore: "Learn More â†’"
    },
    fr: {
        nav_models: "ModÃ¨les",
        nav_718: "718 Cayman & Boxster",
        nav_taycan: "Taycan",
        nav_panamera: "Panamera",
        nav_macan: "Macan",
        nav_cayenne: "Cayenne",
        nav_about: "Ã€ propos",
        nav_heritage: "HÃ©ritage",
        nav_technology: "Technologie",
        nav_sustainability: "DurabilitÃ©",
        nav_careers: "CarriÃ¨res",
        nav_services: "Services",
        nav_tequipment: "Porsche Tequipment",
        nav_exclusive: "Exclusive Manufaktur",
        nav_financing: "Financement",
        nav_warranty: "Garantie",
        nav_contact: "Contact",
        hero_title: "Performance RedÃ©finie",
        hero_subtitle: "DÃ©couvrez le summum de l'ingÃ©nierie automobile et du luxe",
        hero_button: "EXPLORER LES MODÃˆLES",
        models_title: "Nos ModÃ¨les EmblÃ©matiques",
        model_911: "Voiture de sport emblÃ©matique avec moteur arriÃ¨re et deux portes",
        model_718: "Voiture de sport agile avec moteur central",
        model_taycan: "Berline de sport Ã©lectrique avec technologie de pointe",
        model_panamera: "Berline de sport luxe avec capacitÃ©s de grand tourisme",
        model_macan: "SUV de sport compact",
        model_cayenne: "SUV de sport polyvalent",
        model_learnmore: "En savoir plus â†’"
    },
    de: {
        nav_models: "Modelle",
        nav_718: "718 Cayman & Boxster",
        nav_taycan: "Taycan",
        nav_panamera: "Panamera",
        nav_macan: "Macan",
        nav_cayenne: "Cayenne",
        nav_about: "Ãœber uns",
        nav_heritage: "Erbe",
        nav_technology: "Technologie",
        nav_sustainability: "Nachhaltigkeit",
        nav_careers: "Karrieren",
        nav_services: "Dienstleistungen",
        nav_tequipment: "Porsche Tequipment",
        nav_exclusive: "Exclusive Manufaktur",
        nav_financing: "Finanzierung",
        nav_warranty: "Garantie",
        nav_contact: "Kontakt",
        hero_title: "Leistung neu definiert",
        hero_subtitle: "Erleben Sie das Nonplusultra der Automobilingenieurkunst und des Luxus",
        hero_button: "MODELLE ERKUNDEN",
        models_title: "Unsere ikonischen Modelle",
        model_911: "Ikonisches Sportauto mit Heckmotor und zwei TÃ¼ren",
        model_718: "Wendiges Mittelmotor-Sportauto",
        model_taycan: "Elektrische Sportlimousine mit modernster Technologie",
        model_panamera: "Luxus-Sportlimousine mit Grand-Touring-FÃ¤higkeiten",
        model_macan: "Kompaktes Performance-SUV",
        model_cayenne: "Vielseitiges Performance-SUV",
        model_learnmore: "Mehr erfahren â†’"
    },
    es: {
        nav_models: "Modelos",
        nav_718: "718 Cayman & Boxster",
        nav_taycan: "Taycan",
        nav_panamera: "Panamera",
        nav_macan: "Macan",
        nav_cayenne: "Cayenne",
        nav_about: "Acerca de",
        nav_heritage: "Herencia",
        nav_technology: "TecnologÃ­a",
        nav_sustainability: "Sostenibilidad",
        nav_careers: "Carreras",
        nav_services: "Servicios",
        nav_tequipment: "Porsche Tequipment",
        nav_exclusive: "Exclusive Manufaktur",
        nav_financing: "Financiamiento",
        nav_warranty: "GarantÃ­a",
        nav_contact: "Contacto",
        hero_title: "Rendimiento Redefinido",
        hero_subtitle: "Experimenta lo mÃ¡ximo en ingenierÃ­a automotriz y lujo",
        hero_button: "EXPLORAR MODELOS",
        models_title: "Nuestros Modelos IcÃ³nicos",
        model_911: "Auto deportivo icÃ³nico con motor trasero y dos puertas",
        model_718: "Auto deportivo Ã¡gil con motor central",
        model_taycan: "SedÃ¡n deportivo elÃ©ctrico con tecnologÃ­a de punta",
        model_panamera: "SedÃ¡n deportivo de lujo con capacidades de gran turismo",
        model_macan: "SUV de rendimiento compacto",
        model_cayenne: "SUV de rendimiento versÃ¡til",
        model_learnmore: "Saber mÃ¡s â†’"
    },
    it: {
        nav_models: "Modelli",
        nav_718: "718 Cayman & Boxster",
        nav_taycan: "Taycan",
        nav_panamera: "Panamera",
        nav_macan: "Macan",
        nav_cayenne: "Cayenne",
        nav_about: "Chi Siamo",
        nav_heritage: "EreditÃ ",
        nav_technology: "Tecnologia",
        nav_sustainability: "SostenibilitÃ ",
        nav_careers: "Carriere",
        nav_services: "Servizi",
        nav_tequipment: "Porsche Tequipment",
        nav_exclusive: "Exclusive Manufaktur",
        nav_financing: "Finanziamento",
        nav_warranty: "Garanzia",
        nav_contact: "Contatti",
        hero_title: "Prestazioni Ridefinite",
        hero_subtitle: "Sperimenta l'apice dell'ingegneria automobilistica e del lusso",
        hero_button: "ESPLORA MODELLI",
        models_title: "I Nostri Modelli Iconici",
        model_911: "Auto sportiva iconica con motore posteriore e due porte",
        model_718: "Auto sportiva agile con motore centrale",
        model_taycan: "Berlina sportiva elettrica con tecnologia all'avanguardia",
        model_panamera: "Berlina sportiva di lusso con capacitÃ  di gran turismo",
        model_macan: "SUV prestazionale compatto",
        model_cayenne: "SUV prestazionale versatile",
        model_learnmore: "Scopri di piÃ¹ â†’"
    },
    ar: {
        nav_models: "Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª",
        nav_718: "718 ÙƒØ§ÙŠÙ…Ø§Ù† ÙˆØ¨ÙˆÙƒØ³ØªØ±",
        nav_taycan: "ØªØ§ÙŠÙƒØ§Ù†",
        nav_panamera: "Ø¨Ù†Ø§Ù…ÙŠØ±Ø§",
        nav_macan: "Ù…Ø§ÙƒØ§Ù†",
        nav_cayenne: "ÙƒØ§ÙŠÙŠÙ†",
        nav_about: "Ø­ÙˆÙ„",
        nav_heritage: "Ø§Ù„ØªØ±Ø§Ø«",
        nav_technology: "Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§",
        nav_sustainability: "Ø§Ù„Ø§Ø³ØªØ¯Ø§Ù…Ø©",
        nav_careers: "Ø§Ù„ÙˆØ¸Ø§Ø¦Ù",
        nav_services: "Ø§Ù„Ø®Ø¯Ù…Ø§Øª",
        nav_tequipment: "Ø¨ÙˆØ±Ø´Ù‡ ØªÙŠÙƒÙˆÙŠØ¨Ù…Ù†Øª",
        nav_exclusive: "Ù…Ù†ÙØ§ÙƒØªÙˆØ± Ø¥ÙƒØ³ÙƒÙ„ÙˆØ³ÙŠÙ",
        nav_financing: "Ø§Ù„ØªÙ…ÙˆÙŠÙ„",
        nav_warranty: "Ø§Ù„Ø¶Ù…Ø§Ù†",
        nav_contact: "Ø§ØªØµÙ„",
        hero_title: "Ø§Ù„Ø£Ø¯Ø§Ø¡ Ù…Ø¹Ø§Ø¯ Ø§Ù„ØªØ¹Ø±ÙŠÙ",
        hero_subtitle: "Ø§Ø®ØªØ¨Ø± Ù‚Ù…Ø© Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª ÙˆØ§Ù„ÙØ®Ø§Ù…Ø©",
        hero_button: "Ø§Ø³ØªÙƒØ´Ù Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª",
        models_title: "Ù…ÙˆØ¯ÙŠÙ„Ø§ØªÙ†Ø§ Ø§Ù„Ø´Ù‡ÙŠØ±Ø©",
        model_911: "Ø³ÙŠØ§Ø±Ø© Ø±ÙŠØ§Ø¶ÙŠØ© Ø£ÙŠÙ‚ÙˆÙ†ÙŠØ© Ø¨Ù…Ø­Ø±Ùƒ Ø®Ù„ÙÙŠ ÙˆØ¨Ø§Ø¨ÙŠÙ†",
        model_718: "Ø³ÙŠØ§Ø±Ø© Ø±ÙŠØ§Ø¶ÙŠØ© Ø±Ø´ÙŠÙ‚Ø© Ø¨Ù…Ø­Ø±Ùƒ ÙˆØ³Ø·",
        model_taycan: "Ø³ÙŠØ§Ø±Ø© Ø³ÙŠØ¯Ø§Ù† Ø±ÙŠØ§Ø¶ÙŠØ© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ© Ø¨ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ù…ØªÙ‚Ø¯Ù…Ø©",
        model_panamera: "Ø³ÙŠØ§Ø±Ø© Ø³ÙŠØ¯Ø§Ù† Ø±ÙŠØ§Ø¶ÙŠØ© ÙØ§Ø®Ø±Ø© Ù…Ø¹ Ù‚Ø¯Ø±Ø§Øª Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰",
        model_macan: "Ø³ÙŠØ§Ø±Ø© Ø±ÙŠØ§Ø¶ÙŠØ© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø£ØºØ±Ø§Ø¶ Ù…Ø¯Ù…Ø¬Ø©",
        model_cayenne: "Ø³ÙŠØ§Ø±Ø© Ø±ÙŠØ§Ø¶ÙŠØ© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø£ØºØ±Ø§Ø¶ Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª",
        model_learnmore: "Ø§Ø¹Ø±Ù Ø§Ù„Ù…Ø²ÙŠØ¯ â†’"
    },
    zh: {
        nav_models: "è½¦åž‹",
        nav_718: "718 å¡å®´å’Œ Boxster",
        nav_taycan: "Taycan",
        nav_panamera: "Panamera",
        nav_macan: "Macan",
        nav_cayenne: "Cayenne",
        nav_about: "å…³äºŽ",
        nav_heritage: "é—äº§",
        nav_technology: "æŠ€æœ¯",
        nav_sustainability: "å¯æŒç»­æ€§",
        nav_careers: "èŒä¸šç”Ÿæ¶¯",
        nav_services: "æœåŠ¡",
        nav_tequipment: "ä¿æ—¶æ· Tequipment",
        nav_exclusive: "Exclusive Manufaktur",
        nav_financing: "èžèµ„",
        nav_warranty: "ä¿ä¿®",
        nav_contact: "è”ç³»",
        hero_title: "é‡æ–°å®šä¹‰çš„æ€§èƒ½",
        hero_subtitle: "ä½“éªŒæ±½è½¦å·¥ç¨‹å’Œå¥¢åŽçš„é¡¶å³°",
        hero_button: "æŽ¢ç´¢è½¦åž‹",
        models_title: "æˆ‘ä»¬çš„æ ‡å¿—æ€§è½¦åž‹",
        model_911: "é‡‡ç”¨åŽç½®å‘åŠ¨æœºå’Œä¸¤é—¨è®¾è®¡çš„æ ‡å¿—æ€§è·‘è½¦",
        model_718: "é‡‡ç”¨ä¸­ç½®å‘åŠ¨æœºçš„çµæ´»è·‘è½¦",
        model_taycan: "å…·æœ‰å°–ç«¯æŠ€æœ¯çš„ç”µåŠ¨è·‘è½¦è½¿è½¦",
        model_panamera: "å…·æœ‰é•¿é€”æ—…è¡Œèƒ½åŠ›çš„è±ªåŽè·‘è½¦è½¿è½¦",
        model_macan: "ç´§å‡‘åž‹æ€§èƒ½SUV",
        model_cayenne: "å¤šåŠŸèƒ½æ€§èƒ½SUV",
        model_learnmore: "äº†è§£æ›´å¤š â†’"
    },
    ja: {
        nav_models: "ãƒ¢ãƒ‡ãƒ«",
        nav_718: "718 ã‚±ã‚¤ãƒžãƒ³&ãƒœã‚¯ã‚¹ã‚¿ãƒ¼",
        nav_taycan: "ã‚¿ã‚¤ã‚«ãƒ³",
        nav_panamera: "ãƒ‘ãƒŠãƒ¡ãƒ¼ãƒ©",
        nav_macan: "ãƒžã‚«ãƒ³",
        nav_cayenne: "ã‚«ã‚¤ã‚¨ãƒ³",
        nav_about: "ã«ã¤ã„ã¦",
        nav_heritage: "ãƒ˜ãƒªãƒ†ãƒ¼ã‚¸",
        nav_technology: "ãƒ†ã‚¯ãƒŽãƒ­ã‚¸ãƒ¼",
        nav_sustainability: "ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£",
        nav_careers: "ã‚­ãƒ£ãƒªã‚¢",
        nav_services: "ã‚µãƒ¼ãƒ“ã‚¹",
        nav_tequipment: "ãƒãƒ«ã‚·ã‚§ ãƒ†ã‚­ãƒƒãƒ—ãƒ¡ãƒ³ãƒˆ",
        nav_exclusive: "ã‚¨ã‚¯ã‚¹ã‚¯ãƒ«ãƒ¼ã‚·ãƒ– ãƒžãƒ‹ãƒ¥ãƒ•ã‚¡ã‚¯ãƒˆã‚¥ãƒ¼ãƒ«",
        nav_financing: "ãƒ•ã‚¡ã‚¤ãƒŠãƒ³ã‚·ãƒ³ã‚°",
        nav_warranty: "ãƒ¯ãƒ©ãƒ³ãƒ†ã‚£",
        nav_contact: "ãŠå•ã„åˆã‚ã›",
        hero_title: "å†å®šç¾©ã•ã‚ŒãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹",
        hero_subtitle: "è‡ªå‹•è»Šã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã¨é«˜ç´šã®é ‚ç‚¹ã‚’ä½“é¨“ã—ã¦ãã ã•ã„",
        hero_button: "ãƒ¢ãƒ‡ãƒ«ã‚’æŽ¢ç´¢ã™ã‚‹",
        models_title: "ç§ãŸã¡ã®ã‚¢ã‚¤ã‚³ãƒ‹ãƒƒã‚¯ãƒ¢ãƒ‡ãƒ«",
        model_911: "ãƒªã‚¢ã‚¨ãƒ³ã‚¸ãƒ³2ãƒ‰ã‚¢ä»•æ§˜ã®ã‚¢ã‚¤ã‚³ãƒ‹ãƒƒã‚¯ã‚¹ãƒãƒ¼ãƒ„ã‚«ãƒ¼",
        model_718: "ãƒŸãƒƒãƒ‰ã‚·ãƒƒãƒ—ã‚¨ãƒ³ã‚¸ãƒ³æ­è¼‰ã®ä¿Šæ•ãªã‚¹ãƒãƒ¼ãƒ„ã‚«ãƒ¼",
        model_taycan: "æœ€å…ˆç«¯ãƒ†ã‚¯ãƒŽãƒ­ã‚¸ãƒ¼ã‚’æ­è¼‰ã—ãŸé›»å‹•ã‚¹ãƒãƒ¼ãƒ„ã‚»ãƒ€ãƒ³",
        model_panamera: "ã‚°ãƒ©ãƒ³ãƒ‰ãƒ„ãƒ¼ãƒªãƒ³ã‚°èƒ½åŠ›ã‚’å‚™ãˆãŸé«˜ç´šã‚¹ãƒãƒ¼ãƒ„ã‚»ãƒ€ãƒ³",
        model_macan: "ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹SUV",
        model_cayenne: "å¤šç›®çš„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹SUV",
        model_learnmore: "è©³ã—ã â†’"
    }
};

// Google Translate initialization
function googleTranslateElementInit() {
    new google.translate.TranslateElement({
        pageLanguage: 'en',
        includedLanguages: 'en,fr,de,es,it,ar,zh-CN,ja',
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
        autoDisplay: false
    }, 'google_translate_element');
}

// Language code mapping for Google Translate
const langCodeMap = {
    en: 'en',
    fr: 'fr',
    de: 'de',
    es: 'es',
    it: 'it',
    ar: 'ar',
    zh: 'zh-CN',
    ja: 'ja'
};

// Function to trigger Google Translate
function triggerGoogleTranslate(langCode) {
    const googleTranslateCode = langCodeMap[langCode];
    if (googleTranslateCode) {
        const element = document.querySelector('.goog-te-combo');
        if (element) {
            element.value = googleTranslateCode;
            element.dispatchEvent(new Event('change'));
        }
    }
}

// Function to change language
function changeLanguage(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    document.documentElement.lang = lang;
    
    // Trigger Google Translate for the rest of the page
    setTimeout(() => {
        triggerGoogleTranslate(lang);
    }, 100);
}

// Initialize event listeners
document.addEventListener('DOMContentLoaded', () => {
    const langOptions = document.querySelectorAll('.lang-option');
    const menuToggle = document.querySelector('.menu-toggle');
    const sideMenu = document.querySelector('.side-menu');
    const sideMenuOverlay = document.querySelector('.side-menu-overlay');
    const mainContent = document.querySelector('.main-content');
    const nav = document.querySelector('nav');
    const closeBtn = document.querySelector('.menu-close-btn');

    // Close menu function
    const closeMenuHandler = () => {
        sideMenu.classList.remove('active');
        sideMenuOverlay.classList.remove('active');
        mainContent.classList.remove('blur');
        nav.classList.remove('blur');
        closeBtn.classList.remove('active');
    };

    // Menu toggle click handler
    if (menuToggle) {
        menuToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            sideMenu.classList.toggle('active');
            sideMenuOverlay.classList.toggle('active');
            mainContent.classList.toggle('blur');
            nav.classList.toggle('blur');
            closeBtn.classList.toggle('active');
        });
    }

    // Close menu when clicking on overlay
    if (sideMenuOverlay) {
        sideMenuOverlay.addEventListener('click', () => {
            closeMenuHandler();
        });
    }

    // Close button click handler
    if (closeBtn) {
        closeBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            closeMenuHandler();
        });
    }

    // Close menu when clicking on a menu item
    const menuItems = document.querySelectorAll('.side-menu a');
    menuItems.forEach(item => {
        item.addEventListener('click', () => {
            closeMenuHandler();
        });
    });

    // Language selection handler
    langOptions.forEach(option => {
        option.addEventListener('click', (e) => {
            e.preventDefault();
            const lang = option.getAttribute('data-lang');
            
            // Update button text (if langToggle exists)
            const langToggle = document.getElementById('langToggle');
            if (langToggle) {
                langToggle.textContent = lang.toUpperCase() + ' ðŸŒ';
            }
            
            // Update active state
            langOptions.forEach(opt => opt.classList.remove('active'));
            option.classList.add('active');
            
            // Change page language
            changeLanguage(lang);
            
            // Store language preference
            localStorage.setItem('selectedLanguage', lang);
        });
    });
});
        // Hide loading screen after 4 seconds (4000ms total)
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loadingScreen').classList.add('hidden');
            }, 3000);
        });
